| ID     | Título                          | Descripción                                                                                                     | Criterios de Aceptación |
|--------|---------------------------------|-----------------------------------------------------------------------------------------------------------------|--------------------------|
| TS101  | Registro de usuarios operativos | Como Developer, quiero exponer un endpoint para registrar usuarios operativos, para que puedan gestionar stock. | **Escenario 01: Registro exitoso**<br>Dado que se envía un `POST /usuarios` con datos válidos,<br>Cuando el sistema procesa la solicitud,<br>Entonces responde `201 Created` con el objeto del usuario.<br><br>**Escenario 02: Datos inválidos**<br>Dado que se envía un `POST /usuarios` con campos incompletos o inválidos,<br>Cuando el sistema procesa la solicitud,<br>Entonces responde `400 Bad Request` con detalle del error. |
| TS102  | Registro de usuarios gerenciales | Como Developer, quiero exponer un endpoint para registrar cuentas gerenciales, para que accedan a reportes. | **Escenario 01: Registro exitoso**<br>Dado que se envía un `POST /usuarios` con rol "gerente" y datos válidos,<br>Cuando la solicitud se procesa,<br>Entonces responde `201 Created` y el objeto de usuario.<br><br>**Escenario 02: Correo duplicado**<br>Dado que se envía un correo ya existente,<br>Cuando se intenta registrar,<br>Entonces responde `409 Conflict` con mensaje "correo en uso". |
| TS103  | Inicio de sesión                 | Como Developer, quiero un endpoint de login para validar credenciales y otorgar acceso según rol. | **Escenario 01: Acceso válido**<br>Dado que se envía un `POST /login` con credenciales correctas,<br>Cuando el sistema valida,<br>Entonces responde `200 OK` con token y rol.<br><br>**Escenario 02: Credenciales incorrectas**<br>Dado que se envían datos inválidos,<br>Cuando el sistema procesa,<br>Entonces responde `401 Unauthorized`. |
| TS104  | Recuperación de contraseña       | Como Developer, quiero un endpoint para recuperar contraseñas, para que usuarios restablezcan su acceso. | **Escenario 01: Solicitud válida**<br>Dado que se envía un `POST /recuperar` con correo válido,<br>Cuando el sistema procesa,<br>Entonces responde `200 OK` y envía enlace.<br><br>**Escenario 02: Correo no registrado**<br>Dado que se envía un correo inexistente,<br>Cuando se procesa,<br>Entonces responde `404 Not Found`. |
| TS201  | Registrar insumos                | Como Developer, quiero un endpoint para registrar insumos en inventario. | **Escenario 01: Registro válido**<br>Dado que se envía un `POST /insumos` con datos correctos,<br>Cuando se procesa,<br>Entonces responde `201 Created` con el insumo guardado.<br><br>**Escenario 02: Campos incompletos**<br>Dado que falta un campo obligatorio,<br>Cuando se procesa,<br>Entonces responde `400 Bad Request`. |
| TS202  | Editar insumos                   | Como Developer, quiero un endpoint para editar información de insumos registrados. | **Escenario 01: Edición válida**<br>Dado que se envía un `PUT /insumos/{id}` con datos válidos,<br>Cuando se procesa,<br>Entonces responde `200 OK` y devuelve datos actualizados.<br><br>**Escenario 02: Datos inválidos**<br>Dado que se envía un valor negativo en cantidad,<br>Cuando se procesa,<br>Entonces responde `400 Bad Request`. |
| TS203  | Visualizar stock                 | Como Developer, quiero un endpoint para consultar el listado de insumos con cantidades y fechas. | **Escenario 01: Consulta exitosa**<br>Dado que se envía un `GET /insumos`,<br>Cuando el sistema responde,<br>Entonces retorna `200 OK` con lista de insumos.<br><br>**Escenario 02: Inventario vacío**<br>Dado que no hay insumos,<br>Cuando se consulta,<br>Entonces responde `200 OK` con lista vacía. |
| TS204  | Alertas de caducidad             | Como Developer, quiero un endpoint que devuelva insumos próximos a caducar. | **Escenario 01: Insumos próximos a vencer**<br>Dado que se consulta `GET /insumos/alertas`,<br>Cuando hay insumos a menos de 5 días,<br>Entonces responde `200 OK` con listado.<br><br>**Escenario 02: Sin insumos próximos a vencer**<br>Dado que se consulta y no hay casos,<br>Entonces responde `200 OK` con lista vacía. |
| TS301  | Registrar entradas de insumos    | Como Developer, quiero un endpoint para registrar entradas de insumos al inventario. | **Escenario 01: Entrada válida**<br>Dado que se envía un `POST /movimientos/entrada` con datos correctos,<br>Cuando se procesa,<br>Entonces el stock aumenta y responde `201 Created`.<br><br>**Escenario 02: Datos incompletos**<br>Dado que falta información,<br>Cuando se procesa,<br>Entonces responde `400 Bad Request`. |
| TS302  | Registrar salidas de insumos     | Como Developer, quiero un endpoint para registrar salidas de insumos. | **Escenario 01: Salida válida**<br>Dado que se envía un `POST /movimientos/salida` con datos correctos,<br>Cuando se procesa,<br>Entonces el stock disminuye y responde `201 Created`.<br><br>**Escenario 02: Stock insuficiente**<br>Dado que la cantidad supera al stock,<br>Cuando se procesa,<br>Entonces responde `409 Conflict`. |
| TS303  | Registrar devoluciones           | Como Developer, quiero un endpoint para registrar devoluciones de insumos. | **Escenario 01: Devolución válida**<br>Dado que se envía un `POST /movimientos/devolucion` con datos correctos,<br>Cuando se procesa,<br>Entonces el stock aumenta y responde `201 Created`. |
| TS304  | Historial de movimientos         | Como Developer, quiero un endpoint para consultar historial de entradas y salidas. | **Escenario 01: Consulta con filtros**<br>Dado que se envía un `GET /movimientos?fecha=2025-09-01`,<br>Cuando se procesa,<br>Entonces responde `200 OK` con movimientos filtrados.<br><br>**Escenario 02: Sin resultados**<br>Dado que no hay movimientos,<br>Entonces responde `200 OK` con lista vacía. |
| TS401  | Reportes de consumo              | Como Developer, quiero un endpoint para generar reportes de consumo. | **Escenario 01: Reporte válido**<br>Dado que se envía un `GET /reportes/consumo?desde=X&hasta=Y`,<br>Cuando se procesa,<br>Entonces responde `200 OK` con resumen.<br><br>**Escenario 02: Fechas inválidas**<br>Dado que las fechas son incorrectas,<br>Entonces responde `400 Bad Request`. |
| TS402  | Dashboard de stock crítico       | Como Developer, quiero un endpoint para listar insumos en nivel crítico. | **Escenario 01: Stock bajo**<br>Dado que se consulta `GET /reportes/stock-critico`,<br>Cuando hay insumos en nivel mínimo,<br>Entonces responde `200 OK` con listado.<br><br>**Escenario 02: Sin insumos críticos**<br>Entonces responde `200 OK` con lista vacía. |
| TS403  | Exportación de reportes          | Como Developer, quiero un endpoint para exportar reportes en PDF o Excel. | **Escenario 01: Exportación válida**<br>Dado que se solicita `GET /reportes/export?formato=pdf`,<br>Cuando se procesa,<br>Entonces responde `200 OK` con archivo.<br><br>**Escenario 02: Formato inválido**<br>Dado que el formato no existe,<br>Entonces responde `400 Bad Request`. |
| TS404  | Comparar periodos de consumo     | Como Developer, quiero un endpoint para comparar consumo entre periodos. | **Escenario 01: Comparación válida**<br>Dado que se envía `GET /reportes/comparacion?periodo1&periodo2`,<br>Cuando se procesa,<br>Entonces responde `200 OK` con gráfico comparativo.<br><br>**Escenario 02: Periodos inválidos**<br>Dado que se envían fechas incorrectas,<br>Entonces responde `400 Bad Request`. |
| TS501  | Notificaciones de stock bajo     | Como Developer, quiero un endpoint para generar notificaciones cuando stock llega a mínimo. | **Escenario 01: Stock bajo detectado**<br>Dado que se procesa `POST /notificaciones/stock-bajo`,<br>Cuando un insumo llega a nivel mínimo,<br>Entonces responde `201 Created` y notifica. |
| TS502  | Notificaciones de caducidad      | Como Developer, quiero un endpoint para generar notificaciones de caducidad. | **Escenario 01: Insumo próximo a vencer**<br>Dado que se consulta `GET /notificaciones/caducidad`,<br>Cuando hay insumos próximos a vencer,<br>Entonces responde `200 OK` con la lista. |
| TS503  | Mensajes internos                | Como Developer, quiero un endpoint para enviar mensajes entre usuarios. | **Escenario 01: Mensaje enviado**<br>Dado que se envía un `POST /mensajes` con remitente, destinatario y texto,<br>Cuando se procesa,<br>Entonces responde `201 Created` y el mensaje queda registrado. |
| TS504  | Resumen diario automático        | Como Developer, quiero un endpoint que genere un resumen diario de stock y movimientos. | **Escenario 01: Generación diaria**<br>Dado que llega fin de jornada,<br>Cuando se ejecuta `GET /reportes/resumen-diario`,<br>Entonces responde `200 OK` con el informe del día. |
